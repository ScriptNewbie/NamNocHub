{"version":3,"sources":["App/config/colors.js","App/config/fonts.js","App/components/basic/Text.js","App/components/basic/Button.js","App/webTools/getHubAddress.js","App/services/httpServiecs.js","App/hooks/useDeleteDevice.js","App/components/devices/DeviceCard.js","App/components/devices/DevicesList.js","App/components/basic/FullScreen.js","App/hooks/useFurnace.js","App/components/topBar/Furnace.js","App/hooks/useTime.js","App/components/topBar/SystemTime.js","App/components/topBar/index.js","App/hooks/useNewDevices.js","App/hooks/useDevices.js","App/hooks/useOtherThings.js","App/screens/Main.js","App/components/basic/SafeBottomScrollableScreen.js","App/components/basic/TextInput.js","App/components/basic/TimeInput.js","App/components/basic/BooleanInput.js","App/hooks/useSettings.js","App/hooks/useModifySettings.js","App/hooks/useHubAddress.js","App/hooks/useModifyHubAddress.js","App/screens/Settings.js","App/components/devices/Schedule.js","App/hooks/useModifyDevice.js","App/screens/Device.js","App/hooks/useAddDevice.js","App/screens/NewDevice.js","App/navigation/navigationTheme.js","App.js"],"names":["colors","light","soft","apply","discard","primary","background","white","primaryButton","secondaryButton","disabled","warning","fonts","default","Platform","OS","sizeDefault","sizeTitle","sizeHeader","sizeSmall","sizeVerySmall","sizeBig","styles","StyleSheet","create","defaultFonts","fontFamily","fontSize","AppText","style","otherProps","Text","button","backgroundColor","borderRadius","justifyContent","padding","alignItems","text","color","Button","children","textStyle","onPress","TouchableWithoutFeedback","View","getHubAddress","a","async","document","cookie","startsWith","substring","axios","get","response","data","hub","hubAddress","getHubAddressForWeb","AsyncStorage","getItem","http","resource","baseUrl","post","put","delete","useDeleteDevice","props","queryClient","useQueryClient","useMutation","device","onSuccess","invalidateQueries","onError","alert","deviceCard","width","borderWidth","borderColor","flexDirection","name","ip","leftSide","flex","rightSide","temp","tempIcon","marginBottom","marginRight","notAlive","opacity","height","marginLeft","loadingVisible","loadingNotVisible","DeviceCard","navigation","useNavigation","useState","loading","setLoading","useEffect","navigate","navigationPath","deviceDelete","alive","id","opened","notAliveIpColor","rightAction","mutate","FontAwesome","size","Swipeable","renderRightActions","numberOfLines","ActivityIndicator","FontAwesome5","sperarator","DeviceList","devices","FlatList","ItemSeparatorComponent","keyExtractor","toString","renderItem","item","screen","marginTop","Constants","statusBarHeight","borderTopWidth","Screen","fetchFurnace","useFurnace","useQuery","refetchInterval","Furnace","furnace","icon","isSuccess","on","fetchTime","useTime","systemTime","texts","SystemTime","time","dayOfWeek","topBar","TopBar","Feather","fetchNewDevices","useNewDevices","fetchDevices","useDevices","fetchOtherThings","mqttConnected","optionsSetByUser","otherThings","useOtherThings","container","paddingLeft","paddingRight","topMargin","margins","configureHub","connectionIssue","Main","newDevices","pulledTimestamps","setPulledTimestamps","newDevicesLoading","isLoading","newDevicesSuccess","devicesUpdatedAt","dataUpdatedAt","devicesLoading","devicesSuccess","newDevicesUpdatedAt","isError","items","content","length","DevicesList","refreshing","onRefresh","safeBottomSpace","ScrollView","SafeAreaView","border","input","disabledColor","AppTextInput","label","labelStyle","TextInput","editable","selectTextOnFocus","textAlign","inputContainer","buttonGroup","modal","modalContent","alignSelf","TimeInput","updateTime","value","isDatePickerVisible","setDatePickerVisibility","tempValue","setTempValue","valueIsInt","valueLength","pickedDate","Date","handleChange","e","date","type","retVal","toTimeString","split","parseInt","replace","onChange","target","onBlur","mode","Modal","transparent","visible","animationType","display","themeVariant","title","isAndroid","BooleanInput","Switch","onValueChange","fetchSettings","useSettings","useModifySettings","settings","useHubAddress","useModifyHubAddress","modifyCookie","setItem","databaseHeader","dayBeginEnd","dayBegin","dayEnd","submit","Settings","hubAdressTouched","setHubAddressTouched","options","isFetching","ipDisabled","ipSuccess","modifyHubAddress","location","reload","Updates","hubIp","setHubIp","day","night","hysteresis","mqttaddress","mqtttopic","mqttuser","mqttpassword","mqttfurnacetopic","usedb","influxdb","url","organisation","bucket","key","setSettings","modifySettings","Alert","goBack","updateField","newSettings","updateInfluxField","keyboardType","autoCapitalize","onChangeText","secureTextEntry","changeUseDbBoolean","daysOfWeek","copyFromButtons","flexWrap","copyFromButton","margin","copyFromButtonText","timePeriods","divideDeleteText","divideDelete","lastDelete","verySmallTexts","periodTexts","Schedule","schedule","updateSchedule","divide","index","changed","times","end","lastTemp","previous","currentElement","previousMinutes","previousHours","currentElementMinutes","currentElementHours","minMiddle","Math","round","newElementMinutes","newEnd","slice","map","dayToCopyFrom","source","scheduleCopy","JSON","parse","stringify","copySchedule","maxValue","minValue","changeTime","splice","deleteScheduleEntry","changeTemp","changeLastTemp","useModifyDevice","header","harmonogram","Device","route","params","setDevice","oldName","modifyDevice","deleteDevice","deviceCopy","useAddDevice","NewDevice","addDevice","monday","tuesday","wednesday","thursday","friday","saturday","sunday","setSchedule","setName","AppTheme","DefaultTheme","LogBox","ignoreLogs","Stack","createStackNavigator","QueryClient","StackNavigator","Navigator","headerShown","component","App","StatusBar","barStyle","translucent","NavigationContainer","theme","client"],"mappings":"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","file":"static/js/app.2e59e911.chunk.js","sourcesContent":["const lightModeColors = {\n  soft: \"grey\",\n  apply: \"green\",\n  discard: \"red\",\n  primary: \"black\",\n  background: \"white\",\n  white: \"white\",\n  primaryButton: \"grey\",\n  secondaryButton: \"rgb(20,128,250)\",\n  disabled: \"#d8d8d8\",\n  warning: \"#E4D00A\",\n};\n\nconst colors = {\n  light: lightModeColors,\n};\n\nexport default colors;\n","import { Platform } from \"react-native\";\n\nconst fonts = {\n  default: Platform.OS === \"android\" ? \"Roboto\" : \"Avenir\",\n  sizeDefault: 18,\n  sizeTitle: 28,\n  sizeHeader: 24,\n  sizeSmall: 16,\n  sizeVerySmall: 13,\n  sizeBig: 20,\n};\n\nexport default fonts;\n","import { Text, StyleSheet } from \"react-native\";\n\nimport fonts from \"../../config/fonts\";\n\nconst AppText = ({ style, ...otherProps }) => {\n  return <Text style={[styles.defaultFonts, style]} {...otherProps} />;\n};\n\nconst styles = StyleSheet.create({\n  defaultFonts: {\n    fontFamily: fonts.default,\n    fontSize: fonts.sizeDefault,\n  },\n});\n\nexport default AppText;\n","import { StyleSheet, View, TouchableWithoutFeedback } from \"react-native\";\nimport colors from \"../../config/colors\";\n\nimport Text from \"./Text\";\n\nfunction Button({ children, style, text, textStyle, onPress = () => {} }) {\n  return (\n    <TouchableWithoutFeedback onPress={onPress}>\n      <View style={[styles.button, style]}>\n        {children && children}\n        {text && <Text style={[styles.text, textStyle]}>{text}</Text>}\n      </View>\n    </TouchableWithoutFeedback>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: {\n    backgroundColor: colors.light.primaryButton,\n    borderRadius: 10,\n    justifyContent: \"center\",\n    padding: 10,\n    alignItems: \"center\",\n  },\n  text: {\n    color: colors.light.white,\n  },\n});\n\nexport default Button;\n","import axios from \"axios\";\n\nconst getHubAddress = async () => {\n  if (\n    document.cookie &&\n    (document.cookie.startsWith(\"hub=http://\") ||\n      document.cookie.startsWith(\"hub=https://\"))\n  )\n    return document.cookie.substring(4);\n  try {\n    const response = await axios.get(\"/hubAddress.json\");\n    return response.data.hub;\n  } catch (e) {\n    return \"http://192.168.120.155:8080\";\n  }\n};\n\nexport default getHubAddress;\n","import axios from \"axios\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { Platform } from \"react-native\";\n\nimport getHubAddressForWeb from \"../webTools/getHubAddress\";\n\nconst getHubAddressForMobile = async () => {\n  try {\n    return await AsyncStorage.getItem(\"hubIp\");\n  } catch (e) {\n    return \"http://192.168.120.155:8080\";\n  }\n};\n\nconst hubAddress =\n  Platform.OS === \"web\" ? getHubAddressForWeb() : getHubAddressForMobile();\n\nconst http = {\n  get: async (resource) => {\n    const baseUrl = await hubAddress;\n    const response = await axios.get(baseUrl + resource);\n    return response;\n  },\n  post: async (resource, data) => {\n    const baseUrl = await hubAddress;\n    const response = await axios.post(baseUrl + resource, data);\n    return response;\n  },\n  put: async (resource, data) => {\n    const baseUrl = await hubAddress;\n    const response = await axios.put(baseUrl + resource, data);\n    return response;\n  },\n  delete: async (resource, data) => {\n    const baseUrl = await hubAddress;\n    const response = await axios.delete(baseUrl + resource, {\n      data,\n    });\n    return response;\n  },\n};\n\nexport default http;\n","import { useMutation, useQueryClient } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst useDeleteDevice = (props = {}) => {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (device) => {\n      return http.delete(\"/devices\", device);\n    },\n    {\n      ...props,\n      onSuccess: () => {\n        queryClient.invalidateQueries();\n        if (props.onSuccess) props.onSuccess();\n      },\n      onError: () => {\n        alert(\"Nie udało się usunąć urządzenia!\");\n      },\n    }\n  );\n};\nexport default useDeleteDevice;\n","import {\n  View,\n  StyleSheet,\n  TouchableWithoutFeedback,\n  ActivityIndicator,\n} from \"react-native\";\nimport { FontAwesome5, FontAwesome } from \"@expo/vector-icons\";\nimport Swipeable from \"react-native-gesture-handler/Swipeable\";\nimport { GestureHandlerRootView } from \"react-native-gesture-handler\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport React, { useState, useEffect } from \"react\";\n\nimport colors from \"../../config/colors\";\nimport fonts from \"../../config/fonts\";\nimport Text from \"../basic/Text\";\nimport Button from \"../basic/Button\";\nimport useDeleteDevice from \"../../hooks/useDeleteDevice\";\n\nfunction DeviceCard({ device }) {\n  const navigation = useNavigation();\n  const [loading, setLoading] = useState(false);\n  useEffect(() => {\n    if (loading) {\n      navigation.navigate(navigationPath, device);\n      setLoading(false);\n    }\n  }, [loading]);\n  const deviceDelete = useDeleteDevice();\n\n  const { ip, temp, alive, id, opened } = device;\n  let { name } = device;\n  let opacity = {};\n  let notAliveIpColor = {};\n  //Device grayed out if not alieve\n  if (!alive) {\n    opacity = StyleSheet.create({ opacity: styles.notAlive.opacity });\n    notAliveIpColor = StyleSheet.create({ color: styles.notAlive.color });\n  }\n  //Delete option available if device paired, different navigation paths\n  let rightAction = <View />;\n  let navigationPath = \"NewDevice\";\n  if (name) {\n    navigationPath = \"Device\";\n    rightAction = (\n      <Button\n        style={styles.delete}\n        onPress={() => {\n          deviceDelete.mutate(device);\n        }}\n      >\n        <FontAwesome name=\"trash\" size={30} color={\"white\"} />\n      </Button>\n    );\n  } else name = id;\n  return (\n    <GestureHandlerRootView>\n      <Swipeable renderRightActions={() => rightAction}>\n        <TouchableWithoutFeedback\n          onPress={() => {\n            setLoading(true);\n          }}\n        >\n          <View style={[styles.deviceCard, opacity]}>\n            <View style={styles.leftSide}>\n              <Text numberOfLines={1} style={styles.name}>\n                {name}\n              </Text>\n              <Text style={[styles.ip, notAliveIpColor]}>\n                {alive ? ip : \"Nieaktywne\"}\n              </Text>\n            </View>\n            <View style={styles.rightSide}>\n              <ActivityIndicator\n                color={colors.light.primary}\n                style={[\n                  styles.loadingNotVisible,\n                  loading && styles.loadingVisible,\n                ]}\n              />\n              <FontAwesome5\n                color={opened ? colors.light.discard : colors.light.primary}\n                size={fonts.sizeTitle}\n                name=\"thermometer-half\"\n                style={styles.tempIcon}\n              />\n              <Text style={styles.temp}>{temp}</Text>\n            </View>\n          </View>\n        </TouchableWithoutFeedback>\n      </Swipeable>\n    </GestureHandlerRootView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  deviceCard: {\n    width: \"100%\",\n    borderRadius: 8,\n    borderWidth: 1,\n    borderColor: colors.light.soft,\n    padding: 10,\n    flexDirection: \"row\",\n    backgroundColor: colors.light.background,\n  },\n  name: {\n    fontSize: fonts.sizeBig,\n  },\n  ip: {\n    color: colors.light.apply,\n    fontSize: fonts.sizeSmall,\n  },\n  leftSide: {\n    flex: 1,\n  },\n  rightSide: {\n    flexDirection: \"row\",\n    alignItems: \"center\",\n  },\n  temp: {\n    fontSize: fonts.sizeTitle,\n  },\n  tempIcon: {\n    marginBottom: -1,\n    marginRight: 5,\n  },\n  notAlive: {\n    opacity: 0.5,\n    color: colors.light.soft,\n  },\n  delete: {\n    backgroundColor: colors.light.discard,\n    height: \"100%\",\n    padding: 20,\n    marginLeft: 10,\n  },\n  loadingVisible: { opacity: 1 },\n  loadingNotVisible: { opacity: 0 },\n});\n\nexport default DeviceCard;\n","import { FlatList, StyleSheet, View } from \"react-native\";\nimport DeviceCard from \"./DeviceCard\";\n\nfunction DeviceList({ devices }) {\n  return (\n    <FlatList\n      ItemSeparatorComponent={() => {\n        return <View style={styles.sperarator} />;\n      }}\n      data={devices}\n      keyExtractor={(device) => device.id.toString()}\n      renderItem={({ item }) => <DeviceCard device={item} />}\n    />\n  );\n}\n\nconst styles = StyleSheet.create({\n  sperarator: {\n    height: 5,\n  },\n});\n\nexport default DeviceList;\n","import React from \"react\";\nimport { StyleSheet, View } from \"react-native\";\nimport Constants from \"expo-constants\";\nimport colors from \"../../config/colors\";\n\nfunction Screen({ style, children }) {\n  return <View style={[styles.screen, style]}>{children}</View>;\n}\n\nconst styles = StyleSheet.create({\n  screen: {\n    marginTop: Constants.statusBarHeight,\n    borderTopWidth: 1,\n    borderColor: colors.light.soft,\n    flex: 1,\n  },\n});\n\nexport default Screen;\n","import { useQuery } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst fetchFurnace = async () => {\n  const { data } = await http.get(\"/furnace\");\n  return data;\n};\n\nconst useFurnace = () =>\n  useQuery(\"furnace\", fetchFurnace, {\n    refetchInterval: 5000,\n  });\nexport default useFurnace;\n","import { StyleSheet } from \"react-native\";\nimport { FontAwesome } from \"@expo/vector-icons\";\nimport Button from \"../basic/Button\";\nimport useFurnace from \"../../hooks/useFurnace\";\n\nfunction Furnace() {\n  const { data: furnace, isSuccess } = useFurnace();\n  let icon = \"\";\n  if (isSuccess) {\n    if (!furnace.alive) icon = \"exclamation-triangle\";\n    else if (furnace.on) icon = \"fire\";\n  }\n  return (\n    <Button style={styles.button}>\n      {!!icon && <FontAwesome name={icon} size={32}></FontAwesome>}\n    </Button>\n  );\n}\n\nconst styles = StyleSheet.create({\n  button: { width: 52, backgroundColor: \"rgba(0,0,0,0)\" },\n});\n\nexport default Furnace;\n","import { useQuery } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst fetchTime = async () => {\n  const { data } = await http.get(\"/time\");\n  return data;\n};\n\nconst useTime = () =>\n  useQuery(\"time\", fetchTime, {\n    refetchInterval: 5000,\n  });\nexport default useTime;\n","import { StyleSheet, View, ActivityIndicator } from \"react-native\";\nimport fonts from \"../../config/fonts\";\nimport Text from \"../basic/Text\";\nimport useTime from \"../../hooks/useTime\";\nimport colors from \"../../config/colors\";\n\nfunction SystemTime() {\n  const { data: time, isSuccess } = useTime();\n  const daysOfWeek = [\n    \"Niedziela\",\n    \"Poniedziałek\",\n    \"Wtorek\",\n    \"Środa\",\n    \"Czwartek\",\n    \"Piątek\",\n    \"Sobota\",\n  ];\n\n  return (\n    <View style={styles.systemTime}>\n      {isSuccess ? (\n        <>\n          <Text style={styles.texts}>{daysOfWeek[time.dayOfWeek]}</Text>\n          <Text style={styles.texts}>{time.time}</Text>\n        </>\n      ) : (\n        <ActivityIndicator color={colors.light.primary} />\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  systemTime: {\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  texts: { fontSize: fonts.sizeSmall },\n});\n\nexport default SystemTime;\n","import { StyleSheet, View } from \"react-native\";\nimport { Feather } from \"@expo/vector-icons\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nimport Furnace from \"./Furnace\";\nimport Button from \"../basic/Button\";\nimport SystemTime from \"./SystemTime\";\n\nconst furnace = { on: 0, ip: \"\", alive: 1, timeStamp: 0 };\n\nfunction TopBar() {\n  const navigation = useNavigation();\n  return (\n    <View style={styles.topBar}>\n      <Furnace />\n      <SystemTime />\n      <Button>\n        <Feather\n          name=\"settings\"\n          onPress={() => {\n            navigation.navigate(\"Settings\");\n          }}\n          size={32}\n          color=\"white\"\n        />\n      </Button>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  topBar: { flexDirection: \"row\", justifyContent: \"space-between\" },\n});\n\nexport default TopBar;\n","import { useQuery } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst fetchNewDevices = async () => {\n  const { data } = await http.get(\"/newDevices\");\n  return data;\n};\n\nconst useNewDevices = () =>\n  useQuery(\"newDevices\", fetchNewDevices, {\n    refetchInterval: 5000,\n  });\nexport default useNewDevices;\n","import { useQuery } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst fetchDevices = async () => {\n  const { data } = await http.get(\"/devices\");\n  return data;\n};\n\nconst useDevices = () =>\n  useQuery(\"devices\", fetchDevices, {\n    refetchInterval: 5000,\n  });\nexport default useDevices;\n","import { useQuery } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst fetchOtherThings = async () => {\n  const { data: mqttConnected } = await http.get(\"/mqttconnected\");\n  const { data: optionsSetByUser } = await http.get(\"/options/set\");\n\n  const otherThings = {\n    mqttConnected: mqttConnected,\n    optionsSetByUser: optionsSetByUser,\n  };\n  return otherThings;\n};\n\nconst useOtherThings = () =>\n  useQuery(\"otherThings\", fetchOtherThings, {\n    refetchInterval: 60000,\n  });\nexport default useOtherThings;\n","import { StyleSheet, FlatList, View } from \"react-native\";\nimport React, { useState } from \"react\";\nimport { useQueryClient } from \"react-query\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nimport DevicesList from \"../components/devices/DevicesList\";\nimport Screen from \"../components/basic/FullScreen\";\nimport Text from \"../components/basic/Text\";\nimport TopBar from \"../components/topBar\";\nimport fonts from \"../config/fonts\";\nimport useNewDevices from \"../hooks/useNewDevices\";\nimport useDevices from \"../hooks/useDevices\";\nimport useOtherThings from \"../hooks/useOtherThings\";\nimport Button from \"../components/basic/Button\";\nimport colors from \"../config/colors\";\n\nfunction Main() {\n  const navigation = useNavigation();\n  const [pulledTimestamps, setPulledTimestamps] = useState({\n    devices: null,\n    newDevices: null,\n  });\n  const queryClient = useQueryClient();\n  const {\n    data: newDevices,\n    isLoading: newDevicesLoading,\n    isSuccess: newDevicesSuccess,\n    dataUpdatedAt: devicesUpdatedAt,\n  } = useNewDevices();\n  const {\n    data: devices,\n    isLoading: devicesLoading,\n    isSuccess: devicesSuccess,\n    dataUpdatedAt: newDevicesUpdatedAt,\n  } = useDevices();\n\n  const { data: otherThings, isError, isSuccess } = useOtherThings();\n\n  const items = [\n    { id: \"1\", content: <View style={styles.topMargin} /> },\n    { id: \"5\", content: <TopBar /> },\n    {\n      id: \"6\",\n      content: (\n        <>\n          {isError && (\n            <Button\n              style={[styles.margins, styles.connectionIssue]}\n              text=\"Brak połączenia z HUBem!\"\n              onPress={() => {\n                navigation.navigate(\"Settings\");\n              }}\n            />\n          )}\n        </>\n      ),\n    },\n    {\n      id: \"7\",\n      content: (\n        <>\n          {isSuccess && !otherThings.optionsSetByUser && (\n            <Button\n              style={[styles.margins, styles.configureHub]}\n              text=\"Przeprowadź wstępną konfigurację huba!\"\n              onPress={() => {\n                navigation.navigate(\"Settings\");\n              }}\n            />\n          )}\n        </>\n      ),\n    },\n    {\n      id: \"8\",\n      content: (\n        <>\n          {isSuccess && !otherThings.mqttConnected && (\n            <Button\n              style={[styles.margins, styles.connectionIssue]}\n              onPress={() => {\n                navigation.navigate(\"Settings\");\n              }}\n              text=\"Brak połączenia z broakerem MQTT!\"\n            />\n          )}\n        </>\n      ),\n    },\n    { id: \"10\", content: <Text style={styles.texts}>Pokoje:</Text> },\n    {\n      id: \"20\",\n      content: devicesLoading ? (\n        <Text>Ładowanie urządzeń...</Text>\n      ) : devicesSuccess ? (\n        devices && devices.length ? (\n          <DevicesList devices={devices}></DevicesList>\n        ) : (\n          <Text>Żadne urządzenie nie zostało skonfigurowane w systemie!</Text>\n        )\n      ) : (\n        <Text>Błąd podczas ładowania urządzeń!</Text>\n      ),\n    },\n    {\n      id: \"30\",\n      content: (\n        <Text style={styles.texts}>Urządzenia oczekujące na parowanie:</Text>\n      ),\n    },\n    {\n      id: \"40\",\n      content: newDevicesLoading ? (\n        <Text>Ładowanie urządzeń...</Text>\n      ) : newDevicesSuccess ? (\n        newDevices && newDevices.length ? (\n          <DevicesList devices={newDevices}></DevicesList>\n        ) : (\n          <Text>Żadne urządzenie nie zostało skonfigurowane w systemie!</Text>\n        )\n      ) : (\n        <Text>Błąd podczas ładowania urządzeń!</Text>\n      ),\n    },\n  ];\n  return (\n    <Screen>\n      <FlatList\n        refreshing={\n          devicesUpdatedAt === pulledTimestamps[\"devices\"] ||\n          newDevicesUpdatedAt === pulledTimestamps[\"newDevices\"]\n        }\n        onRefresh={() => {\n          setPulledTimestamps({\n            devices: devicesUpdatedAt,\n            newDevices: newDevicesUpdatedAt,\n          });\n          queryClient.invalidateQueries();\n        }}\n        style={styles.container}\n        data={items}\n        keyExtractor={(item) => item.id.toString()}\n        renderItem={({ item }) => item.content}\n      />\n    </Screen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  texts: { fontSize: fonts.sizeHeader, marginBottom: 10, marginTop: 10 },\n  container: { paddingLeft: 10, paddingRight: 10 },\n  topMargin: { height: 10 },\n  margins: { marginTop: 10 },\n  configureHub: { backgroundColor: colors.light.warning },\n  connectionIssue: { backgroundColor: colors.light.discard },\n});\n\nexport default Main;\n","import React from \"react\";\nimport { ScrollView, StyleSheet, SafeAreaView } from \"react-native\";\n\nfunction Screen({ style, children }) {\n  return (\n    <ScrollView style={[styles.screen, style]}>\n      {children}\n      <SafeAreaView />\n    </ScrollView>\n  );\n}\n\nconst styles = StyleSheet.create({\n  screen: {\n    flex: 1,\n  },\n  safeBottomSpace: { height: 30 },\n});\n\nexport default Screen;\n","import { TextInput, StyleSheet, View } from \"react-native\";\nimport fonts from \"../../config/fonts\";\nimport colors from \"../../config/colors\";\nimport Text from \"./Text\";\n\nfunction AppTextInput({\n  label,\n  style,\n  labelStyle,\n  disabled = false,\n  ...otherProps\n}) {\n  let disabledColor = {};\n  if (disabled) disabledColor = styles.disabledColor;\n  return (\n    <View style={[styles.container, style]}>\n      {label && <Text style={labelStyle}>{label}</Text>}\n      <TextInput\n        editable={!disabled}\n        selectTextOnFocus={!disabled}\n        style={[styles.input, disabledColor]}\n        {...otherProps}\n      ></TextInput>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  border: {},\n  input: {\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 5,\n    fontFamily: fonts.default,\n    fontSize: fonts.sizeDefault,\n    borderColor: colors.light.soft,\n  },\n  container: {\n    flex: 1,\n  },\n  disabledColor: { backgroundColor: colors.light.disabled },\n});\n\nexport default AppTextInput;\n","import {\n  TouchableWithoutFeedback,\n  StyleSheet,\n  View,\n  Platform,\n  Modal,\n  Button,\n  SafeAreaView,\n} from \"react-native\";\nimport colors from \"../../config/colors\";\nimport Text from \"./Text\";\nimport DateTimePicker from \"@react-native-community/datetimepicker\";\n\nimport React, { useState } from \"react\";\nimport fonts from \"../../config/fonts\";\n\nfunction TimeInput({\n  label,\n  style,\n  updateTime = () => {},\n  value,\n  disabled = false,\n  ...otherProps\n}) {\n  const [isDatePickerVisible, setDatePickerVisibility] = useState(false);\n  const [tempValue, setTempValue] = useState();\n\n  const valueIsInt = typeof value === \"number\";\n\n  if (valueIsInt) {\n    value = value.toString();\n    if (value.length === 1) value = \"000\" + value;\n    const valueLength = value.length;\n    value =\n      value.substring(0, valueLength - 2) +\n      \":\" +\n      value.substring(valueLength - 2);\n    if (valueLength === 2) value = \"00\" + value;\n    if (valueLength === 3) value = \"0\" + value;\n  }\n\n  const pickedDate = new Date(\"2000-01-01T\" + value);\n\n  const showDatePicker = () => {\n    setDatePickerVisibility(true);\n    if (Platform.OS === \"ios\") setTempValue(pickedDate);\n  };\n  const handleChange = (e, date) => {\n    setDatePickerVisibility(false);\n    if (e.type === \"set\") {\n      let retVal = date.toTimeString().split(\" \")[0].substring(0, 5);\n      if (valueIsInt) retVal = parseInt(retVal.replace(\":\", \"\"));\n      updateTime(retVal);\n    }\n  };\n  const handleTempChange = (e, date) => {\n    setTempValue(date);\n  };\n\n  const handleWebTempChange = ({ target }) => {\n    setTempValue(target.value);\n  };\n\n  let disabledColor = {};\n  if (disabled) disabledColor = styles.disabledColor;\n  return (\n    <View style={[styles.container, style]}>\n      {label && <Text>{label}</Text>}\n      {Platform.OS === \"web\" ? (\n        <input\n          style={{\n            height: 2 * fonts.sizeDefault,\n            width: \"95%\",\n            fontSize: fonts.sizeDefault,\n            fontFamily: fonts.default,\n            backgroundColor: disabled\n              ? colors.light.disabled\n              : colors.light.background,\n            borderRadius: 5,\n            borderWidth: 1,\n            textAlign: \"center\",\n            alignSelf: \"center\",\n          }}\n          type=\"time\"\n          disabled={disabled}\n          value={tempValue ? tempValue : value}\n          onChange={handleWebTempChange}\n          onBlur={() => {\n            handleChange({ type: \"set\" }, new Date(\"2000-01-01T\" + tempValue));\n            setTempValue();\n          }}\n        />\n      ) : (\n        <>\n          <TouchableWithoutFeedback onPress={showDatePicker}>\n            <View style={[styles.inputContainer, disabledColor]}>\n              <Text style={styles.input} {...otherProps}>\n                {value}\n              </Text>\n            </View>\n          </TouchableWithoutFeedback>\n          {!disabled &&\n            (Platform.OS === \"android\" ? (\n              isDatePickerVisible && (\n                <DateTimePicker\n                  onChange={handleChange}\n                  mode=\"time\"\n                  value={pickedDate}\n                ></DateTimePicker>\n              )\n            ) : (\n              <Modal\n                transparent={true}\n                visible={isDatePickerVisible}\n                animationType=\"slide\"\n              >\n                <SafeAreaView style={styles.modal}>\n                  <View style={styles.modalContent}>\n                    <DateTimePicker\n                      onChange={handleTempChange}\n                      mode=\"time\"\n                      value={tempValue}\n                      display=\"spinner\"\n                      themeVariant=\"light\"\n                    ></DateTimePicker>\n                    <View style={styles.buttonGroup}>\n                      <Button\n                        title=\"Zamknij\"\n                        onPress={() => {\n                          setDatePickerVisibility(false);\n                        }}\n                      />\n                      <Button\n                        title=\"Zatwierdź\"\n                        onPress={() => {\n                          const input = {\n                            type: \"set\",\n                          };\n                          handleChange(input, tempValue);\n                        }}\n                      />\n                    </View>\n                  </View>\n                </SafeAreaView>\n              </Modal>\n            ))}\n        </>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n  },\n  input: {\n    textAlign: \"center\",\n  },\n  inputContainer: {\n    borderWidth: 1,\n    borderRadius: 5,\n    borderColor: colors.light.soft,\n    padding: 5,\n  },\n  disabledColor: { backgroundColor: colors.light.disabled },\n  buttonGroup: {\n    flexDirection: \"row\",\n    justifyContent: \"center\",\n    borderTopWidth: 1,\n    borderColor: colors.light.soft,\n    justifyContent: \"space-evenly\",\n    padding: 10,\n  },\n  modal: {\n    flexDirection: \"row\",\n    flex: 1,\n    justifyContent: \"center\",\n  },\n  modalContent: {\n    backgroundColor: colors.light.background,\n    alignSelf: \"flex-end\",\n    marginBottom: 10,\n    flex: 1,\n    borderRadius: 30,\n    marginLeft: 15,\n    marginRight: 15,\n    borderWidth: 1,\n    borderColor: colors.light.soft,\n  },\n});\n\nexport default TimeInput;\n","import { StyleSheet, View, Switch, Platform } from \"react-native\";\nimport fonts from \"../../config/fonts\";\nimport colors from \"../../config/colors\";\nimport Text from \"./Text\";\n\nfunction BooleanInput({ label, style, value, onChange, ...otherProps }) {\n  return (\n    <View style={[styles.container, style]}>\n      {label && isAndroid && (\n        <Text style={styles.label} value={value}>\n          {label}:\n        </Text>\n      )}\n      <Switch onValueChange={onChange} value={value} {...otherProps} />\n      {label && !isAndroid && (\n        <Text style={styles.label} value={value}>\n          {label}.\n        </Text>\n      )}\n    </View>\n  );\n}\n\nconst isAndroid = Platform.OS === \"android\" ? true : false;\n\nconst styles = StyleSheet.create({\n  border: {},\n  input: {\n    borderWidth: 1,\n    borderRadius: 5,\n    padding: 5,\n    fontFamily: fonts.default,\n    borderColor: colors.light.soft,\n  },\n  label: {\n    marginLeft: Platform.OS === \"android\" ? 0 : 5,\n  },\n  container: {\n    flex: 1,\n    flexDirection: \"row\",\n    alignItems: \"center\",\n    justifyContent: Platform.OS === \"android\" ? \"space-between\" : \"flex-start\",\n  },\n});\n\nexport default BooleanInput;\n","import { useQuery } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst fetchSettings = async () => {\n  const { data } = await http.get(\"/options\");\n  return data;\n};\n\nconst useSettings = () =>\n  useQuery(\"settings\", fetchSettings, {\n    refetchInterval: false,\n  });\nexport default useSettings;\n","import { useMutation, useQueryClient } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst useModifySettings = (props = {}) => {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (settings) => {\n      return http.put(\"/options\", settings);\n    },\n    {\n      ...props,\n      onSuccess: ({ data }) => {\n        queryClient.invalidateQueries();\n        if (props.onSuccess) props.onSuccess(data);\n      },\n      onError: () => {\n        alert(\n          \"Nie udało się zmodyfikować ustawień! Sprawdź czy pola zostały wypełnione poprawnie!\"\n        );\n      },\n    }\n  );\n};\nexport default useModifySettings;\n","import { useQuery } from \"react-query\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { Platform } from \"react-native\";\n\nimport getHubAddressForWeb from \"../webTools/getHubAddress\";\n\nconst getHubAddress = async () => {\n  const value =\n    Platform.OS === \"web\"\n      ? await getHubAddressForWeb()\n      : await AsyncStorage.getItem(\"hubIp\");\n  if (value) {\n    return value;\n  }\n  return \"http://\";\n};\n\nconst useHubAddress = () =>\n  useQuery(\"hubIp\", getHubAddress, {\n    refetchInterval: false,\n  });\nexport default useHubAddress;\n","import { useMutation, useQueryClient } from \"react-query\";\nimport AsyncStorage from \"@react-native-async-storage/async-storage\";\nimport { Platform } from \"react-native\";\n\nconst modifyCookie = (value) => {\n  document.cookie = \"hub=\" + value;\n  return true;\n};\n\nconst useModifyHubAddress = (props) => {\n  return useMutation(\n    (value) => {\n      if (Platform.OS === \"web\") return modifyCookie(value);\n      return AsyncStorage.setItem(\"hubIp\", value);\n    },\n    {\n      onSuccess: props.onSuccess,\n    }\n  );\n};\nexport default useModifyHubAddress;\n","import { StyleSheet, View, Alert } from \"react-native\";\nimport React, { useState, useEffect } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport * as Updates from \"expo-updates\";\nimport { Platform } from \"react-native\";\n\nimport Screen from \"../components/basic/SafeBottomScrollableScreen\";\nimport TextInput from \"../components/basic/TextInput\";\nimport Text from \"../components/basic/Text\";\nimport TimeInput from \"../components/basic/TimeInput\";\nimport BooleanInput from \"../components/basic/BooleanInput\";\nimport Button from \"../components/basic/Button\";\nimport colors from \"../config/colors\";\nimport fonts from \"../config/fonts\";\nimport useSettings from \"../hooks/useSettings\";\nimport useModifySettings from \"../hooks/useModifySettings\";\nimport useHubAddress from \"../hooks/useHubAddress\";\nimport useModifyHubAddress from \"../hooks/useModifyHubAddress\";\n\nfunction Settings() {\n  const [hubAdressTouched, setHubAddressTouched] = useState(false);\n  const navigation = useNavigation();\n  const { data: options, isSuccess, isFetching, isError } = useSettings();\n  const {\n    data: hubAddress,\n    isFetching: ipDisabled,\n    isSuccess: ipSuccess,\n  } = useHubAddress();\n  const modifyHubAddress = useModifyHubAddress({\n    onSuccess: () => {\n      Platform.OS === \"web\" ? location.reload() : Updates.reloadAsync();\n    },\n  });\n  const [hubIp, setHubIp] = useState(hubAddress);\n  const [settings, setSettings] = useState(\n    isSuccess\n      ? options\n      : {\n          day: \"08:00\",\n          night: \"22:00\",\n          hysteresis: 0.2,\n          mqttaddress: \"mqtt://127.0.0.1:1883\",\n          mqtttopic: \"NamNoc\",\n          mqttuser: \"\",\n          mqttpassword: \"\",\n          mqttfurnacetopic: \"furnace\",\n          usedb: false,\n          influxdb: {\n            url: \"\",\n            organisation: \"\",\n            bucket: \"\",\n            key: \"\",\n          },\n        }\n  );\n  const modifySettings = useModifySettings({\n    onSuccess: (response) => {\n      setSettings(response);\n      Alert.alert(\"Sukces!\", \"Czy chcesz pozostać na ekranie ustawień?\", [\n        {\n          text: \"Tak\",\n        },\n        {\n          text: \"Nie\",\n          onPress: () => {\n            navigation.goBack();\n          },\n        },\n      ]);\n    },\n  });\n\n  useEffect(() => {\n    if (isSuccess) {\n      setSettings(options);\n    }\n  }, [options]);\n\n  useEffect(() => {\n    if (ipSuccess) {\n      setHubIp(hubAddress);\n    }\n  }, [hubAddress]);\n\n  const changeUseDbBoolean = () => {\n    const newSettings = { ...settings };\n    newSettings.usedb = !newSettings.usedb;\n    setSettings(newSettings);\n  };\n\n  const updateField = (target, value) => {\n    const newSettings = { ...settings };\n    newSettings[target] = value;\n    setSettings(newSettings);\n  };\n  const updateInfluxField = (target, value) => {\n    const newSettings = { ...settings };\n    newSettings.influxdb[target] = value;\n    setSettings(newSettings);\n  };\n\n  const disabled = isFetching || isError;\n  return (\n    <Screen>\n      <View style={styles.container}>\n        <Text style={styles.title}>Ustawienia</Text>\n        <TextInput\n          keyboardType=\"url\"\n          autoCapitalize=\"none\"\n          disabled={ipDisabled}\n          value={hubIp}\n          onChangeText={(value) => {\n            setHubIp(value);\n            setHubAddressTouched(true);\n          }}\n          label={\"Adres huba:\"}\n        ></TextInput>\n        {isSuccess && !hubAdressTouched && (\n          <>\n            <TextInput\n              onChangeText={(value) => {\n                updateField(\"mqttaddress\", value);\n              }}\n              keyboardType=\"url\"\n              autoCapitalize=\"none\"\n              value={settings.mqttaddress}\n              disabled={disabled}\n              label={\"Adres brokera MQTT:\"}\n            />\n            <TextInput\n              onChangeText={(value) => {\n                updateField(\"mqtttopic\", value);\n              }}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              value={settings.mqtttopic}\n              disabled={disabled}\n              label={\"Temat MQTT huba:\"}\n            />\n            <TextInput\n              onChangeText={(value) => {\n                updateField(\"mqttfurnacetopic\", value);\n              }}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              value={settings.mqttfurnacetopic}\n              disabled={disabled}\n              label={\"Temat MQTT pieca:\"}\n            />\n            <TextInput\n              onChangeText={(value) => {\n                updateField(\"mqttuser\", value);\n              }}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n              value={settings.mqttuser}\n              disabled={disabled}\n              label={\"Użytkownik MQTT:\"}\n            />\n            <TextInput\n              onChangeText={(value) => {\n                updateField(\"mqttpassword\", value);\n              }}\n              value={settings.mqttpassword}\n              disabled={disabled}\n              secureTextEntry={true}\n              label={\"Hasło MQTT:\"}\n            />\n            <TextInput\n              value={settings.hysteresis.toString()}\n              onChangeText={(value) => {\n                updateField(\"hysteresis\", value);\n              }}\n              disabled={disabled}\n              keyboardType=\"numeric\"\n              label={\"Histereza :\"}\n            />\n            <View style={styles.dayBeginEnd}>\n              <TimeInput\n                disabled={disabled}\n                value={settings.day}\n                style={styles.dayBegin}\n                label={\"Początek dnia:\"}\n                updateTime={(value) => {\n                  updateField(\"day\", value);\n                }}\n              />\n              <TimeInput\n                disabled={disabled}\n                value={settings.night}\n                style={styles.dayEnd}\n                label={\"Koniec dnia:\"}\n                updateTime={(value) => {\n                  updateField(\"night\", value);\n                }}\n              />\n            </View>\n            <Text style={styles.databaseHeader}>Ustawienia influxDB:</Text>\n            <BooleanInput\n              disabled={disabled}\n              value={settings.usedb}\n              onChange={() => {\n                changeUseDbBoolean();\n              }}\n              label={\"Używaj bazy danych\"}\n            />\n            <TextInput\n              onChangeText={(value) => {\n                updateInfluxField(\"url\", value);\n              }}\n              value={settings.influxdb.url}\n              disabled={!settings.usedb}\n              keyboardType=\"url\"\n              autoCapitalize=\"none\"\n              label={\"Adres bazy danych:\"}\n            ></TextInput>\n            <TextInput\n              onChangeText={(value) => {\n                updateInfluxField(\"organisation\", value);\n              }}\n              value={settings.influxdb.organisation}\n              disabled={!settings.usedb}\n              label={\"Nazwa organizacji:\"}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n            ></TextInput>\n            <TextInput\n              onChangeText={(value) => {\n                updateInfluxField(\"bucket\", value);\n              }}\n              value={settings.influxdb.bucket}\n              disabled={!settings.usedb}\n              label={\"Nazwa Koszyka:\"}\n              keyboardType=\"email-address\"\n              autoCapitalize=\"none\"\n            ></TextInput>\n            <TextInput\n              onChangeText={(value) => {\n                updateInfluxField(\"key\", value);\n              }}\n              value={settings.influxdb.key}\n              secureTextEntry={true}\n              disabled={!settings.usedb}\n              label={\"Token autoryzacji:\"}\n            ></TextInput>\n          </>\n        )}\n        <Button\n          onPress={() => {\n            if (hubAdressTouched) return modifyHubAddress.mutate(hubIp);\n            if (isSuccess) return modifySettings.mutate(settings);\n            navigation.goBack();\n          }}\n          text=\"Zapisz ustawienia\"\n          style={styles.submit}\n        />\n      </View>\n    </Screen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: fonts.sizeTitle,\n  },\n  databaseHeader: {\n    marginTop: 20,\n    fontSize: fonts.sizeHeader,\n  },\n  dayBeginEnd: {\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n  },\n  dayBegin: {\n    marginRight: 5,\n  },\n  dayEnd: {\n    marginLeft: 5,\n  },\n  container: {\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  submit: {\n    backgroundColor: colors.light.apply,\n    marginTop: 10,\n    marginBottom: 10,\n  },\n});\n\nexport default Settings;\n","import { StyleSheet, View } from \"react-native\";\nimport TimeInput from \"../basic/TimeInput\";\nimport Button from \"../basic/Button\";\nimport Text from \"../basic/Text\";\nimport TextInput from \"../basic/TextInput\";\nimport fonts from \"../../config/fonts\";\nimport colors from \"../../config/colors\";\n\nconst daysOfWeek = [\n  [\"monday\", \"Poniedziałek\", \"poniedziałku\"],\n  [\"tuesday\", \"Wtorek\", \"wtorku\"],\n  [\"wednesday\", \"Środa\", \"środy\"],\n  [\"thursday\", \"Czwartek\", \"czwartku\"],\n  [\"friday\", \"Piątek\", \"piątku\"],\n  [\"saturday\", \"Sobota\", \"soboty\"],\n  [\"sunday\", \"Niedziela\", \"niedzieli\"],\n];\n\nfunction Schedule({ schedule, updateSchedule }) {\n  const copySchedule = (source, target) => {\n    const scheduleCopy = JSON.parse(JSON.stringify(schedule[source]));\n    schedule[target] = scheduleCopy;\n    updateSchedule(schedule);\n  };\n\n  const changeTime = (day, index, value) => {\n    let maxValue = 2359;\n    let minValue = 0;\n\n    if (schedule[day].times.length !== index + 1) {\n      maxValue = schedule[day].times[index + 1].end;\n    }\n\n    if (index !== 0) {\n      minValue = schedule[day].times[index - 1].end;\n    }\n\n    if (maxValue > value && minValue < value) {\n      schedule[day].times[index].end = value;\n      updateSchedule(schedule);\n    } else\n      alert(\n        \"Nieprawidłowe granice przedziału! Upewnij się, czy początek przedziału jest mniejszy od końca przedziału, czy koniec tego przedziału jest mniejszy od końca kolejnego przedziału, oraz czy początek tego przedziału jest większy początku poprzedniego!\"\n      );\n  };\n\n  const changeTemp = (target, index, value) => {\n    schedule[target].times[index].temp = value;\n    updateSchedule(schedule);\n  };\n\n  const changeLastTemp = (target, value) => {\n    schedule[target].lastTemp = value;\n    updateSchedule(schedule);\n  };\n\n  const deleteScheduleEntry = (target, index) => {\n    schedule[target].times.splice(index, 1);\n    updateSchedule(schedule);\n  };\n\n  const divide = (target, index) => {\n    let changed = false;\n    if (schedule[target].times.length === 0) {\n      schedule[target].times = [\n        {\n          end: 1200,\n          temp: schedule[target].lastTemp,\n        },\n      ];\n      changed = true;\n    } else {\n      let previous = 0;\n      let currentElement = {\n        end: 2359,\n        temp: schedule[target].lastTemp,\n      };\n      if (index > 0) {\n        previous = schedule[target].times[index - 1].end;\n      }\n      const previousMinutes = previous % 100;\n      const previousHours = (previous - previousMinutes) / 100;\n      if (index !== schedule[target].times.length)\n        currentElement = schedule[target].times[index];\n      const currentElementMinutes = currentElement.end % 100;\n      const currentElementHours =\n        (currentElement.end - currentElementMinutes) / 100;\n      const minMiddle = Math.round(\n        (previousHours * 60 +\n          previousMinutes +\n          (currentElementHours * 60 + currentElementMinutes)) /\n          2\n      );\n      const newElementMinutes = minMiddle % 60;\n      const newElementHours = ((minMiddle - newElementMinutes) / 60) * 100;\n\n      const newEnd = newElementHours + newElementMinutes;\n\n      if (newEnd < currentElement.end) {\n        const times = [\n          ...schedule[target].times.slice(0, index),\n          {\n            end: newEnd,\n            temp: currentElement.temp,\n          },\n          ...schedule[target].times.slice(index),\n        ];\n        schedule[target].times = times;\n        changed = true;\n      }\n    }\n    if (changed) {\n      updateSchedule(schedule);\n    } else alert(\"Przedział nie może być krótszy niż minuta!\");\n  };\n\n  let previous = <TimeInput disabled value={\"00:00\"} />;\n  return (\n    <View>\n      {daysOfWeek.map((dayOfWeek) => (\n        <View style={styles.dayOfWeek} key={dayOfWeek[0]}>\n          <Text>{dayOfWeek[1]}</Text>\n          <Text style={styles.verySmallTexts}>Kopiuj z:</Text>\n          <View style={styles.copyFromButtons}>\n            {daysOfWeek.map((dayToCopyFrom) => (\n              <Button\n                key={dayToCopyFrom[0]}\n                onPress={() => {\n                  copySchedule(dayToCopyFrom[0], dayOfWeek[0]);\n                }}\n                text={dayToCopyFrom[2]}\n                style={styles.copyFromButton}\n                textStyle={styles.copyFromButtonText}\n              />\n            ))}\n          </View>\n          <Text style={styles.periodTexts}>Przedział 1</Text>\n          {schedule[dayOfWeek[0]].times.map((time, index) => (\n            <View key={time.end}>\n              <View style={styles.timePeriods}>\n                {previous}\n                <Text> – </Text>\n                {\n                  (previous = (\n                    <TimeInput\n                      value={time.end}\n                      updateTime={(value) => {\n                        changeTime(dayOfWeek[0], index, value);\n                      }}\n                    />\n                  ))\n                }\n                <Button\n                  onPress={() => {\n                    divide(dayOfWeek[0], index);\n                  }}\n                  text={\"Podziel\"}\n                  textStyle={styles.divideDeleteText}\n                  style={styles.divideDelete}\n                />\n                <Button\n                  textStyle={styles.divideDeleteText}\n                  style={[styles.divideDelete, styles.delete]}\n                  name={dayOfWeek[0]}\n                  onPress={() => {\n                    deleteScheduleEntry(dayOfWeek[0], index);\n                  }}\n                  text={\"Usuń\"}\n                />\n              </View>\n              <TextInput\n                label={\"Temperatura:\"}\n                labelStyle={styles.verySmallTexts}\n                keyboardType=\"numeric\"\n                value={time.temp.toString()}\n                onChangeText={(value) => {\n                  changeTemp(dayOfWeek[0], index, value);\n                }}\n              ></TextInput>\n              <Text style={styles.periodTexts}>Przedział {index + 2}</Text>\n            </View>\n          ))}\n          <View style={styles.timePeriods}>\n            {previous}\n            <Text> – </Text>\n            <TimeInput disabled value={\"23:59\"} />\n            <Button\n              name={dayOfWeek[0]}\n              onPress={() => {\n                divide(dayOfWeek[0], schedule[dayOfWeek[0]].times.length);\n              }}\n              text={\"Podziel\"}\n              textStyle={styles.divideDeleteText}\n              style={styles.divideDelete}\n            />\n            <Button\n              textStyle={styles.divideDeleteText}\n              style={[styles.divideDelete, styles.delete, styles.lastDelete]}\n              name={dayOfWeek[0]}\n              onPress={() => {\n                alert(\"Nie można usuwać ostatniego przedziału!\");\n              }}\n              text={\"Usuń\"}\n            />\n          </View>\n          <TextInput\n            label={\"Temperatura:\"}\n            labelStyle={styles.verySmallTexts}\n            keyboardType=\"numeric\"\n            value={schedule[dayOfWeek[0]].lastTemp.toString()}\n            onChangeText={(value) => changeLastTemp(dayOfWeek[0], value)}\n          ></TextInput>\n          {(() => {\n            previous = <TimeInput disabled value={\"00:00\"} />;\n          })()}\n        </View>\n      ))}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  copyFromButtons: {\n    flexDirection: \"row\",\n    flexWrap: \"wrap\",\n  },\n  copyFromButton: { margin: 2, backgroundColor: colors.light.secondaryButton },\n  copyFromButtonText: { fontSize: fonts.sizeVerySmall },\n  timePeriods: {\n    flexDirection: \"row\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n  },\n  divideDeleteText: { fontSize: fonts.sizeVerySmall },\n  divideDelete: { marginLeft: 5 },\n  delete: { backgroundColor: colors.light.discard },\n  lastDelete: { opacity: 0.5 },\n  verySmallTexts: { fontSize: fonts.sizeVerySmall },\n  periodTexts: { fontSize: fonts.sizeSmall },\n  dayOfWeek: {\n    borderColor: colors.light.soft,\n    borderWidth: 1,\n    borderRadius: 10,\n    padding: 5,\n    marginTop: 5,\n  },\n});\n\nexport default Schedule;\n","import { useMutation, useQueryClient } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst useModifyDevice = (props = {}) => {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (device) => {\n      return http.put(\"/devices\", device);\n    },\n    {\n      ...props,\n      onSuccess: ({ data }) => {\n        queryClient.invalidateQueries();\n        if (props.onSuccess) props.onSuccess(data);\n      },\n      onError: () => {\n        alert(\n          \"Nie udało się zmodyfikować urządzenia! Sprawdź czy pola zostały wypełnione poprawnie!\"\n        );\n      },\n    }\n  );\n};\nexport default useModifyDevice;\n","import { StyleSheet, Alert, View, Platform } from \"react-native\";\nimport React, { useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\n\nimport Screen from \"../components/basic/SafeBottomScrollableScreen\";\nimport TextInput from \"../components/basic/TextInput\";\nimport Text from \"../components/basic/Text\";\nimport Button from \"../components/basic/Button\";\nimport colors from \"../config/colors\";\nimport fonts from \"../config/fonts\";\nimport Schedule from \"../components/devices/Schedule\";\nimport useDeleteDevice from \"../hooks/useDeleteDevice\";\nimport useModifyDevice from \"../hooks/useModifyDevice\";\n\nfunction Device({ route }) {\n  const [device, setDevice] = useState(route.params);\n  const [oldName] = useState({ ...device }.name);\n  const modifyDevice = useModifyDevice({\n    onSuccess: (response) => {\n      Platform.OS === \"web\"\n        ? navigation.goBack()\n        : Alert.alert(\n            \"Sukces!\",\n            \"Czy chcesz pozostać na ekranie konfiguracji urządzenia \" +\n              response.name +\n              \"?\",\n            [\n              {\n                text: \"Tak\",\n                onPress: () => {\n                  setDevice(response);\n                },\n              },\n              {\n                text: \"Nie\",\n                onPress: () => {\n                  navigation.goBack();\n                },\n              },\n            ]\n          );\n    },\n  });\n\n  const navigation = useNavigation();\n  const deleteDevice = useDeleteDevice({\n    onSuccess: () => {\n      navigation.goBack();\n    },\n  });\n\n  const { name, schedule } = device;\n\n  const updateSchedule = (schedule) => {\n    const deviceCopy = { ...device };\n    deviceCopy.schedule = schedule;\n    setDevice(deviceCopy);\n  };\n\n  const changeName = (value) => {\n    const deviceCopy = { ...device };\n    deviceCopy.name = value;\n    setDevice(deviceCopy);\n  };\n\n  const saveSettings = () => {\n    modifyDevice.mutate(device);\n  };\n\n  return (\n    <Screen>\n      <View style={styles.container}>\n        <Text style={styles.title}>{oldName}</Text>\n        <Button\n          text=\"Usuń z systemu\"\n          onPress={() => {\n            deleteDevice.mutate(device);\n          }}\n          style={styles.delete}\n        />\n        <Text style={styles.header}>Zmiana ustawień</Text>\n        <TextInput\n          label={\"Nazwa pomieszczenia:\"}\n          onChangeText={changeName}\n          value={name}\n        ></TextInput>\n        <Text style={styles.harmonogram}>Harmonogram:</Text>\n        <Schedule\n          schedule={schedule}\n          updateSchedule={updateSchedule}\n        ></Schedule>\n        <Button\n          text=\"Zapisz ustawienia\"\n          onPress={saveSettings}\n          style={styles.submit}\n        />\n      </View>\n    </Screen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: fonts.sizeTitle,\n    textAlign: \"justify\",\n  },\n  header: {\n    marginTop: 10,\n    fontSize: fonts.sizeHeader,\n  },\n  harmonogram: {\n    fontSize: fonts.sizeBig,\n  },\n  container: {\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  submit: {\n    backgroundColor: colors.light.apply,\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  delete: {\n    backgroundColor: colors.light.discard,\n    marginTop: 10,\n    marginBottom: 10,\n  },\n});\n\nexport default Device;\n","import { useMutation, useQueryClient } from \"react-query\";\nimport http from \"../services/httpServiecs\";\n\nconst useAddDevice = (props = {}) => {\n  const queryClient = useQueryClient();\n  return useMutation(\n    (device) => {\n      return http.post(\"/devices\", device);\n    },\n    {\n      ...props,\n      onSuccess: () => {\n        queryClient.invalidateQueries();\n        if (props.onSuccess) props.onSuccess();\n      },\n      onError: () => {\n        alert(\n          \"Nie udało się dodać urządzenia! Sprawdź czy pola zostały wypełnione poprawnie!\"\n        );\n      },\n    }\n  );\n};\nexport default useAddDevice;\n","import { StyleSheet, View } from \"react-native\";\nimport React, { useState } from \"react\";\nimport { useNavigation } from \"@react-navigation/native\";\nimport { useQueryClient } from \"react-query\";\n\nimport Screen from \"../components/basic/SafeBottomScrollableScreen\";\nimport TextInput from \"../components/basic/TextInput\";\nimport Text from \"../components/basic/Text\";\nimport Button from \"../components/basic/Button\";\nimport colors from \"../config/colors\";\nimport fonts from \"../config/fonts\";\nimport Schedule from \"../components/devices/Schedule\";\nimport useAddDevice from \"../hooks/useAddDevice\";\n\nfunction NewDevice({ route }) {\n  const navigation = useNavigation();\n  const queryClient = useQueryClient();\n  const addDevice = useAddDevice({\n    onSuccess: () => {\n      navigation.goBack();\n    },\n  });\n  const [schedule, setSchedule] = useState({\n    monday: {\n      times: [],\n      lastTemp: 20,\n    },\n    tuesday: {\n      times: [],\n      lastTemp: 20,\n    },\n    wednesday: {\n      times: [],\n      lastTemp: 20,\n    },\n    thursday: {\n      times: [],\n      lastTemp: 20,\n    },\n    friday: {\n      times: [],\n      lastTemp: 20,\n    },\n    saturday: {\n      times: [],\n      lastTemp: 20,\n    },\n    sunday: {\n      times: [],\n      lastTemp: 20,\n    },\n  });\n\n  const [name, setName] = useState(\"\");\n\n  const { id } = route.params;\n\n  const updateSchedule = (schedule) => {\n    setSchedule({ ...schedule });\n  };\n\n  const saveSettings = () => {\n    const device = { name, schedule, ...route.params };\n    addDevice.mutate(device);\n  };\n\n  return (\n    <Screen>\n      <View style={styles.container}>\n        <View>\n          <Text style={styles.title}>Nowe urządzenie</Text>\n          <Text style={styles.id}>{id}</Text>\n        </View>\n        <Text style={styles.header}>Konfiguracja urządzenia</Text>\n        <TextInput\n          label={\"Nazwa pomieszczenia:\"}\n          onChangeText={(value) => setName(value)}\n        ></TextInput>\n        <Text style={styles.harmonogram}>Harmonogram:</Text>\n        <Schedule\n          schedule={schedule}\n          updateSchedule={updateSchedule}\n        ></Schedule>\n        <Button\n          text=\"Dodaj do systemu\"\n          onPress={saveSettings}\n          style={styles.submit}\n        />\n      </View>\n    </Screen>\n  );\n}\n\nconst styles = StyleSheet.create({\n  title: {\n    fontSize: fonts.sizeTitle,\n  },\n  header: {\n    marginTop: 10,\n    fontSize: fonts.sizeHeader,\n  },\n  harmonogram: {\n    fontSize: fonts.sizeBig,\n  },\n  container: {\n    paddingLeft: 10,\n    paddingRight: 10,\n  },\n  submit: {\n    backgroundColor: colors.light.apply,\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  id: { fontSize: fonts.sizeVerySmall },\n});\n\nexport default NewDevice;\n","import { DefaultTheme } from \"@react-navigation/native\";\nimport colors from \"../config/colors\";\n\nconst AppTheme = {\n  ...DefaultTheme,\n  colors: {\n    ...DefaultTheme.colors,\n    background: colors.light.background,\n  },\n};\n\nexport default AppTheme;\n","import { Platform, StatusBar } from \"react-native\";\nimport { createStackNavigator } from \"@react-navigation/stack\";\nimport { NavigationContainer } from \"@react-navigation/native\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\nimport { LogBox } from \"react-native\";\nLogBox.ignoreLogs([\"Setting a timer for a long period of time\"]);\n\nimport Main from \"./App/screens/Main\";\nimport Settings from \"./App/screens/Settings\";\nimport Device from \"./App/screens/Device\";\nimport NewDevice from \"./App/screens/NewDevice\";\nimport AppTheme from \"./App/navigation/navigationTheme\";\n\nconst Stack = createStackNavigator();\nconst queryClient = new QueryClient();\n\nconst StackNavigator = () => (\n  <Stack.Navigator>\n    <Stack.Screen\n      name=\"Main\"\n      options={{ headerShown: false, title: \"Ekran główny\" }}\n      component={Main}\n    />\n    <Stack.Screen\n      name=\"Settings\"\n      options={{ title: \"\" }}\n      component={Settings}\n    />\n    <Stack.Screen name=\"Device\" options={{ title: \"\" }} component={Device} />\n    <Stack.Screen\n      name=\"NewDevice\"\n      options={{ title: \"\" }}\n      component={NewDevice}\n    />\n  </Stack.Navigator>\n);\n\nexport default function App() {\n  return (\n    <>\n      {Platform.OS === \"ios\" && (\n        <StatusBar barStyle=\"dark-content\" translucent />\n      )}\n      <NavigationContainer theme={AppTheme}>\n        <QueryClientProvider client={queryClient}>\n          <StackNavigator />\n        </QueryClientProvider>\n      </NavigationContainer>\n    </>\n  );\n}\n"],"sourceRoot":""}